<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="./jQuery-1.12.4.mini.js"></script>

    <script>

        // 向Web服务器发送ajax请求，本质是一个http协议的请求
        // 参数是一个js对象{  ,  ,  ,   }
        // $.ajax({
        //     // 请求的资源地址:不指定ip和端口号则请求的是自己服务器的资源数据
        //     url:'./data.json',
            
        //     // 请求方式:GET, POST
        //     type:'GET',
            
        //     // 返回的数据采用的解析格式
        //     dataType:'JSON',
            
        //     // 请求传给Web服务器的参数
        //     // data:{"name":"张三"},
            
        //     // 请求成功执行的函数
        //     success:function(data){
        //         console.log(data);
        //         console.log(data.name);
        //         // 数据请求回来以后就可以绑定给html中对应的标签控件，实现局部刷新

        //     },
            
        //     // 请求失败执行的函数
        //     error:function(){
        //         alert('请求失败');
        //     },

        //     // 是否使用异步请求，默认为是
        //     async:true
        // });


        // 发送get方式的ajax请求的简写方式：
        // 参数: 1.请求地址url  
        //       2.请求传给Web服务器的参数  
        //       3.请求成功的回调函数  
        //       4.返回数据的解析方式
        // $.get('./data.json', {"name":"张三"}, function(data){
        //     // 若按照JSON格式解析，返回的是js对象的数据
        //     alert(data.name);
        // }, 'JSON').error(function(){
        //     alert('请求失败');
        // });


        
        // async 设置是否异步，默认值是'true'，表示异步，一般不用写
        // 同步和异步说明
        // 同步是一个ajax请求完成另外一个才可以请求，需要等待上一个ajax请求完成，好比线程同步。
        // 异步是多个ajax同时请求，不需要等待其它ajax请求完成， 好比线程异步

        

        // 这里请求自己的Web服务器，第一个参数没有指定http协议和ip地址和端口号，默认ajax请求会自动加上
        // 请求别人的服务器需要加上http协议地址
        $.post('./data.json', {"name":"张三"}, function(data){
            // 若按照JSON格式解析，返回的是js对象的数据
            alert(data.name);
        }, 'JSON').error(function(){
            alert('请求失败');
        });



        // 非本节内容，类似学习
        // $(function(){
        //     $.get('center_data.html', function(data){
        //         for(var i = 0; i< data.length; i++){
        //             var oCenterData = data[i];
        //             var oTr = '<tr>' +
        //                         '<td>'+ oCenterData.code +'</td>' +
        //                         '<td>'+ oCenterData.short +'</td>' +
        //                         '<td>'+ oCenterData.chg +'</td>' +
        //                         '<td>'+ oCenterData.turnover +'</td>' +
        //                         '<td>'+ oCenterData.price +'</td>' +
        //                         '<td>'+ oCenterData.highs +'</td>' +
        //                         '<td>'+ oCenterData.note_info +'</td>' +
        //                         '<td><a type="button" class="btn btn-default btn-xs" href="/update/000007.html"> <span class="glyphicon glyphicon-star" aria-hidden="true"></span> 修改 </a></td>' +
        //                         '<td><input type="button" value="删除" id="toDel" name="toDel" systemidvaule="000007"></td>' +
        //                         '</tr>'
        //         }

        //     },'json');
        // });
        





    </script>
</head>
<body>
    
</body>
</html>


<!-- 此页面使用了ajax技术，需要部署在Web服务器 -->
<!-- 这里用python自带静态服务器调试：
    终端中在当前目录运行python -m http.server 
    然后浏览器localhost:8000/use.html请求，
    在检查中查看浏览器的文件请求和ajax请求以及请求响应报文
    console中显示请求成功success返回的数据
 -->
 <!-- 但python自带静态服务器不支持post请求方式，可使用之前自己开发的静态web服务器来调试 -->